(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},53:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(15),r=a.n(s),l=(a(42),a(9)),i=a(3),o=(a(43),a(44),a(1));var d=function(){return Object(o.jsx)("div",{className:"Header",children:Object(o.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark",children:Object(o.jsxs)("div",{className:"container-fluid",children:[Object(o.jsx)("a",{className:"navbar-brand",href:"/",children:"RestrOrder"}),Object(o.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(o.jsx)("span",{className:"navbar-toggler-icon"})}),Object(o.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(o.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(l.b,{className:"nav-link active","aria-current":"page",to:"/",children:"Home"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(l.b,{className:"nav-link active",to:"/menu",children:"Menu"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(l.b,{className:"nav-link active",to:"/checkout",children:"Checkout"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(l.b,{className:"nav-link active",to:"/admin",children:"Admin"})})]})})]})})})};a(53);var j=function(){var e=Object(i.f)();return Object(o.jsx)("div",{className:"Home",children:Object(o.jsx)("div",{className:"container home",children:Object(o.jsxs)("div",{className:"row rowHome",children:[Object(o.jsx)("div",{className:"col details",children:Object(o.jsx)("img",{className:"image",src:"/restaurant.png",alt:"Logo"})}),Object(o.jsxs)("div",{className:"col details",children:[Object(o.jsx)("div",{className:"name",children:"RestrOrder"}),Object(o.jsx)("div",{className:"features",children:'"Best Dishes in the Town, Serve with love."'}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"Button",onClick:function(){e.push("/menu")},children:"Hungry? Order Now"})})]})]})})})},m=a(4),u=a(8),b=a.n(u),h=a(10);a(17),a(71);h.a.configure();var O=function(e){return Object(o.jsxs)("div",{className:"Item",children:[Object(o.jsx)("div",{className:"img-container",children:Object(o.jsx)("img",{className:"img",src:e.item.logo,alt:e.item.name})}),Object(o.jsxs)("div",{className:"Details",children:[Object(o.jsx)("p",{className:"Name",children:e.item.name}),Object(o.jsx)("p",{className:"Description",children:e.item.description})]}),Object(o.jsxs)("div",{className:"Order",children:[Object(o.jsx)("p",{className:"Price",children:"\u20b9"+e.item.price}),Object(o.jsx)("button",{name:e.index,className:"Add",onClick:function(t){h.a.success("".concat(e.item.name," added to cart"),{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"colored"});var a=t.target.name,c=JSON.parse(localStorage.getItem("order"));c[Number(a)]+=1,localStorage.setItem("order",JSON.stringify(c));var n=Number(localStorage.getItem("total"));localStorage.setItem("total",n+Number(e.item.price))},children:"+"})]})]})};a(72);var _=function(e){var t=Object(c.useState)([]),a=Object(m.a)(t,2),n=a[0],s=a[1];if(Object(c.useEffect)((function(){b.a.get("/loadmenu").then((function(e){s(e.data),localStorage.setItem("list",JSON.stringify(n))}))}),[n]),null===localStorage.getItem("order")||JSON.parse(localStorage.getItem("order")).length!==n.length){var r=[];n.forEach((function(e){r.push(0)})),localStorage.setItem("order",JSON.stringify(r)),localStorage.setItem("total",0)}return Object(o.jsxs)("div",{className:"Menu",children:[Object(o.jsx)("p",{className:"menu",children:"MENU"}),null===n||void 0===n?void 0:n.map((function(e,t){return Object(o.jsx)(O,{item:e,index:t},t)}))]})},g=a(35);a(73);h.a.configure();var v=function(e){var t=Object(i.f)(),a=Object(c.useState)([]),n=Object(m.a)(a,2),s=n[0],r=n[1],l=Object(c.useState)(["",""]),d=Object(m.a)(l,2),j=Object(m.a)(d[0],2),u=j[0],O=j[1],_=d[1],v=Object(c.useState)("hidden"),p=Object(m.a)(v,2),x=p[0],N=p[1],f=Object(c.useState)("show"),S=Object(m.a)(f,2),I=S[0],k=S[1];function y(e){h.a.error("Error: ".concat(e),{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"colored"})}function C(){h.a.success("Placing your Order",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"colored"})}function w(){for(var e=JSON.parse(localStorage.getItem("order")),t=0;t<e.length;t++)e[t]=0;localStorage.setItem("order",JSON.stringify(e)),localStorage.setItem("total",0)}function J(e){var t=Number(e.target.name),a=JSON.parse(localStorage.getItem("order")),c=JSON.parse(localStorage.getItem("list")),n=JSON.parse(localStorage.getItem("total")),s=[];a[t]+=1,n+=Number(c[t].price),localStorage.setItem("order",JSON.stringify(a)),localStorage.setItem("total",JSON.stringify(n)),a.forEach((function(e,t){e>0&&s.push({key:t,name:c[t].name,price:c[t].price,qty:e})})),r(s)}function P(e){var a=Number(e.target.name),c=JSON.parse(localStorage.getItem("order")),n=JSON.parse(localStorage.getItem("list")),s=localStorage.getItem("total"),l=[];c[a]-=1,(s-=Number(n[a].price))<=0&&(y("No order for Checkout"),t.push("/menu")),localStorage.setItem("order",JSON.stringify(c)),localStorage.setItem("total",JSON.stringify(s)),c.forEach((function(e,t){e>0&&l.push({key:t,name:n[t].name,price:n[t].price,qty:e})})),r(l)}function E(e){b.a.post("/print",{list:s,name:u,number:O,total:Number(localStorage.getItem("total")),mode:e,served:!1})}return Object(c.useEffect)((function(){if(localStorage.getItem("total")<=0&&(y("No order for Checkout"),t.push("/")),0===s.length&&null!==localStorage.getItem("order")&&null!==localStorage.getItem("list")){var e=[],a=JSON.parse(localStorage.getItem("order")),c=JSON.parse(localStorage.getItem("list"));a.forEach((function(t,a){t>0&&e.push({key:a,name:c[a].name,price:c[a].price,qty:t})})),r(e)}}),[s,t]),Object(o.jsx)("div",{className:"Checkout",children:Object(o.jsx)("div",{className:"container checkout",children:Object(o.jsxs)("div",{className:"row checkout-row",children:[Object(o.jsxs)("div",{className:"col left "+x,children:[Object(o.jsx)("div",{className:"Thank",children:"THANK YOU FOR ORDERING"}),Object(o.jsxs)("div",{className:"fills "+x,children:[Object(o.jsx)("div",{className:"inst",children:"Please fill the details below:"}),Object(o.jsxs)("div",{className:"ind",children:[Object(o.jsx)("div",{className:"label",children:"Name :"}),Object(o.jsx)("input",{className:"input",type:"text",value:u,onChange:function(e){_([e.target.value,O])}})]}),Object(o.jsxs)("div",{className:"ind",children:[Object(o.jsx)("div",{className:"label",children:"Phone:"}),Object(o.jsx)("input",{className:"input",type:"number",value:O,onChange:function(e){_([u,e.target.value])}})]})]}),Object(o.jsxs)("div",{className:"bill",children:[Object(o.jsx)("button",{className:"pay cash",onClick:function(){u.length>0&&10===O.length?(E("Cash"),function(){var e=localStorage.getItem("total"),t=new g.a("p","pt");t.addFont("helvetica","normal"),t.text(200,30,"Restro Order - Your Bill"),t.text(70,50,"Name: ".concat(u)),t.text(360,50,"Phone No.: ".concat(O)),t.text(0,60,"_______________________________________________________________________"),t.text(230,80,"Total: Rs.".concat(e,"/-")),t.text(0,90,"_______________________________________________________________________");var a=120,c=1;s.forEach((function(e){t.text(25,a,"".concat(c,". ")),t.text(75,a,"".concat(e.name)),t.text(255,a,"Qty: ".concat(e.qty)),t.text(325,a,"Rs.".concat(e.price)),t.text(455,a,"Rs.".concat(e.qty*e.price)),a+=40,c+=1})),t.save("Bill.pdf")}(),C(),w(),t.push("/")):y("Please fill the correct details")},children:"Cash Payment"}),Object(o.jsx)("button",{className:"pay upi",onClick:function(){u.length>0&&10===O.length?(E("Online"),C(),w(),t.push("/")):y("Please fill the correct details")},children:"UPI - PayTM, PhonePe.."})]})]}),Object(o.jsxs)("div",{className:"col right",children:[Object(o.jsxs)("div",{className:"Total",children:["Total: ","\u20b9"+localStorage.getItem("total")]}),Object(o.jsx)("div",{className:"Items",children:s.map((function(e,t){return Object(o.jsxs)("div",{className:"item",children:[Object(o.jsxs)("div",{className:"order",children:[Object(o.jsx)("p",{className:"Name",children:e.name}),Object(o.jsx)("p",{className:"Price",children:"\u20b9 "+e.price})]}),Object(o.jsxs)("div",{className:"changeBtns "+I,children:[Object(o.jsx)("button",{name:e.key,className:"change",onClick:P,children:"-"}),Object(o.jsx)("button",{name:e.key,className:"change",onClick:J,children:"+"}),Object(o.jsx)("p",{className:"qty",children:e.qty})]})]},t)}))}),Object(o.jsx)("button",{className:"confirm "+I,onClick:function(){localStorage.getItem("total")>0&&(N("show"),k("hidden"))},children:"Checkout"})]})]})})})},p=a(19),x=a.n(p),N=a(36);a(75);var f=function(e){var t=Object(c.useState)(""),a=Object(m.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(""),l=Object(m.a)(r,2),i=l[0],d=l[1];return Object(o.jsxs)("div",{className:"login",children:[Object(o.jsx)("h1",{className:"title",children:"Welcome Back"}),Object(o.jsx)("p",{className:"sub-title",children:"For Restaurant Staff only"}),Object(o.jsxs)("div",{className:"input-container",children:[Object(o.jsx)("input",{className:"admin-input",type:"email",placeholder:"Admin Id*",value:n,onChange:function(e){return s(e.target.value)}}),Object(o.jsx)("input",{className:"admin-input",type:"password",placeholder:"Password*",value:i,onChange:function(e){return d(e.target.value)}}),Object(o.jsx)("input",{className:"submit",type:"button",value:"LOGIN",onClick:function(){e.handleLogin(n,i),s(""),d("")}})]})]})};a(76);var S=function(e){var t=e.invoice,a=e.index,n=Object(c.useState)("not"),s=Object(m.a)(n,2),r=s[0],l=s[1];return Object(o.jsxs)("div",{className:"invoice",children:[Object(o.jsxs)("div",{className:"invoice-owner",children:[Object(o.jsx)("p",{className:r,children:t.name}),Object(o.jsx)("p",{className:r,children:t.number})]}),Object(o.jsx)("div",{className:"invoice-list",children:t.list.map((function(e,t){return Object(o.jsxs)("div",{className:"invoice-order",children:[Object(o.jsx)("p",{className:r,children:e.name}),Object(o.jsx)("p",{className:r,children:e.qty+" X "+e.price})]},t)}))}),Object(o.jsxs)("div",{className:"invoice-total",children:[Object(o.jsx)("p",{className:r,children:"\u20b9"+t.total+" ("+t.mode+")"}),Object(o.jsx)("button",{name:a,className:"invoice-served "+r,onClick:function(){l("cut"),b.a.patch("/admin",{id:t._id,served:!0})},children:"Served"})]})]})};var I=function(e){var t=Object(c.useState)(!1),a=Object(m.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)([]),l=Object(m.a)(r,2),i=l[0],d=l[1];function j(e){h.a.error("Error: ".concat(e),{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"colored"})}Object(c.useEffect)((function(){n&&b.a.get("/admin").then((function(e){var t=e.data;d(t.filter((function(e){return!e.served})))}))}),[n]);var u=function(){var e=Object(N.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("/login",{admin:t,password:a});case 3:e.sent.data.token&&s(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),0===a.length?j("Missing Password"):j("Wrong email or password");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{children:[!1===n&&Object(o.jsx)(f,{handleLogin:u}),!0===n&&i.map((function(e,t){return Object(o.jsx)(S,{index:t,invoice:e},t)}))]})};var k=function(){return Object(c.useEffect)((function(){null===localStorage.getItem("total")&&localStorage.setItem("total",0)}),[]),Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(l.a,{children:[Object(o.jsx)(d,{}),Object(o.jsxs)(i.c,{children:[Object(o.jsx)(i.a,{exact:!0,path:"/",children:Object(o.jsx)(j,{})}),Object(o.jsx)(i.a,{path:"/checkout",children:Object(o.jsx)(v,{})}),Object(o.jsx)(i.a,{path:"/menu",children:Object(o.jsx)(_,{})}),Object(o.jsx)(i.a,{path:"/admin",children:Object(o.jsx)(I,{})}),Object(o.jsx)(i.a,{path:"*",children:Object(o.jsx)(j,{})})]})]})})};r.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(k,{})}),document.getElementById("root"))}},[[77,1,3]]]);
//# sourceMappingURL=main.b6da7b11.chunk.js.map